---
layout: post
tags: [가리사니, 기타]
---

> 이 문서는 가리사니 개발자 포럼에 올렸던 글의 백업 파일입니다.
오래된 문서가 많아 현재 상황과 맞지 않을 수 있습니다.


솔라에선 디폴트 서치의 기본값으로 text를 사용하고 있습니다.
때문에 schema.xml 에서 text 라는 필드가 없을 경우 다음과 같은 오류가 나타납니다.
org.apache.solr.common.SolrException: undefined field text

schema.xml 에 아래와 같은 구문을 넣습니다.
``` java
<schema>
...
	<!-- 기본 검색 필드를 지정합니다. -->
	<defaultSearchField>기본 검색 필드 이름</defaultSearchField>
...
</schema>
```

solrconfig.xml 에서 모든  <str name="df">text</str>를 <str name="df">기본 검색 필드 이름</str> 로 수정합니다.
 예를들어 아래와 같이 수정하시면됩니다. (상당히 여러군데에 선언되어 있습니다.)
``` java
<requestHandler name="/select" class="solr.SearchHandler">
    <!-- default values for query parameters can be specified, these
         will be overridden by parameters in the request
      -->
     <lst name="defaults">
       <str name="echoParams">explicit</str>
       <int name="rows">10</int>
       <!-- <str name="df">text</str> -->
       <str name="df">기본 검색 필드 이름</str>
     </lst>
</requestHandler>
```

 솔라를 처음 시작하거나 설정을 바꾸는게 무리가 아니신분들은 스키마에서 필드를 짤 때 기본내용으로 삼고 싶은것을 text라고 이름 붙여서 짜시는 것 이 정신건강에 좋습니다. 하하하..