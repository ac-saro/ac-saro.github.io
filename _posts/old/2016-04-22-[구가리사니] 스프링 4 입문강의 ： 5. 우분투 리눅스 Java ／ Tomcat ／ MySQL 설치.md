---
layout: post
tags: [가리사니, 기타]
---

> 이 문서는 예전 가리사니 사이트에서 작성된 문서 입니다.
현재 상황과 맞지 않을 수 있습니다.


# 스프링 4 입문강의
- [1. Spring Starter Project 를 이용한 JSTL 예제](/lab?topicId=212)
- [2. Spring Starter Project 를 이용한 Mustache 예제 ](/lab?topicId=213)
- [3. 데이터베이스 연동 ( MySQL / 하이버네이트 ) ](/lab?topicId=214)
- [4. 롬복 / Lombok !! ](/lab?topicId=215)
- [5. 우분투 리눅스 Java / Tomcat / MySQL 설치 ](/lab?topicId=216)
- [6. 리눅스 서버에 배포](/lab?topicId=217)

# 서론
이전 강의 까지는 윈도우에서 개발환경을 구축하고 데이터베이스 연동 예제까지 하였습니다. 하지만 실제 사용은 대부분이 리눅스 운영체제를 사용하기 때문에 리눅스에 환경을 구축하는 예제를 해보도록 하겠습니다.


# 참고사항
## ubuntu linux
- 실무에서도 많이 쓰이는 운영체제여서 선택하였습니다.
- 실무가 아닌 개발환경을 구축하는 것이라면, UI가 기본적으로 탑제된 데스크톱용도 무방.
## 자바
- 스프링이나 서블릿을 사용할 것이라면.. 선택이 아닌 필수...
## 톰켓
- 많이 쓰이는 서블릿 컨테이너
## MySQL
- 현재는 마리아로 넘어가는 업체들이 조금씩 생기고 있지만, 둘 다 유사함으로 ## MySQL로 실습.
- 유사성에 대해선 위 링크 참고.


# 1. 우분투 설치
위 참고사항 링크의 우분투 페이지로 들어가 iso 파일을 다운받아 설치합니다.
- 가상환경에 설치시 네트워크 설정이 NAT 과 Bridged 가 있습니다.
- NAT 으로 설정할 경우 가상머신이 컴퓨터 내부 IP로 할당하게 됩니다.
- 이것을 바로 사용할 수 있도록 설정 하는건 강의 주제에서 많이 벗어나기에 이 부분을 설정할 수 없다면 Bridged 사용을 추천합니다.
- VMware Player 의 경우 정책상 NAT의 세부 설정 기능이 없습니다. (VMware Network Adapter VMnet8 관련)
요약 / 정리
- 다음 강의에서 IP를 통해 war 디플로이 과정을 할 예정.
- NAT로 IP 잡을 수 있으면 뭘 써도 상관없음.
- 잘 모를경우 Bridged 로 설정.
- 다만 그냥 Bridged 설정시 서비스제공자(인터넷회사) 에 의해 IP가 매번 바뀜.
- 때문에 장기적으로 사용할 경우 NAT으로 해서 내부 IP 잡아주거나, 공유기를 사용 중 이라면 Bridged 로 설정해서 고정된 내부 IP를 할당 권장.
=========================================
참고 : Hyper-V 설치하기 NAT 설정
- 아래 주소에 192.168.?.? 로 로컬 고정아이피를 만드는 법이 있습니다.
- [/lab?topicId=219](/lab?topicId=219)
=========================================
  1-1. 루트 비밀번호 설정
  - 설치가 완료되면 접속합니다.
  - 콘솔 > sudo passwd root
  - 암호를 설정합니다.
  - 나중에 root 암호를 물어보는 사람이 종종있어서 미리 설정한것입니다.
  - 모든 예제는 su가 아닌 사용자 계정에서 sudo로 접근하는걸 기준으로 쓰여집니다.


# 2. 각종 데몬 / 프로그램 설치 : vim, 자바, 톰켓, MySQL
2-1.1 리눅스 터미널 접속
2-1.2 apt 업데이트
``` shell
sudo apt-get update
```
2-2 vim 설치
- vim말고 다른 에디터를 이용하실 분들은 별도로 설치하셔도 됩니다.
- 다만 여기서 에제는 vim을 기준으로 설명합니다.
``` shell
sudo apt-get install vim
```
- 설치가완료되면 터미널에 vim을 입력, 화면이 뜨면 :q를 이용해 나갑니다.
2-3 jdk 8 설치
``` shell
sudo apt-get install openjdk-8-jdk
```
- 설치가 완료되면 아래 구문으로 확인.
``` shell
java -version
```
- 버전정보가 뜬다면 설치완료.
2-4 톰켓 8 설치
``` shell
sudo apt-get install tomcat8 tomcat8-admin
```
- 설치가 완료되었으면 ifconfig로 ip를 알아내서 아래와 같이 접속합니다.
``` shell
ifconfig
```
- 데스크톱에서 http://아이피:8080 으로 접속합니다.
- 화면이 뜨면 성공한 겁니다.
2-5 MySQL 설치
``` shell
sudo apt-get install mysql-server mysql-client
```
- 설치가 완료되면 아래와 같이 입력합니다.


# 3. MySQL 리모트 접근 허가설정 [주의]
- 현재 진행할 작업은 **localhost 외 모든 IP에서 접근을 허가**하는 방법으로 지금처럼 개발 예제 환경에서만 쓰시길 바랍니다.
- 실제 서비스를 운영할 때에는 **유저를 추가하고 접근가능 IP를 명확히 지정**하고 사용합니다.
- mysql client 접속
``` shell
mysql -u root -p
```
- 외부에서 접근할 권한 부여 / 적용 / 나가기
``` shell
mysql> GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY '접속에 필요한 암호';
mysql> flush privileges; 서비스가 켜진 상태에서 값을 적용하는 명령이지만, 곧바로 restart 할 예정임으로 의미가 없습니다.
mysql> quit
```
## 3-1 접근설정
- 아래를 입력
``` shell
sudo vim /etc/mysql/my.cnf
```
===========================================================
- 만일 !includedir /etc/mysql/mysql.conf.d/ 구문이 있다면 :q로 나갑니다.
- 그리고 다시 입력!!
``` shell
sudo vim /etc/mysql/mysql.conf.d/mysqld.cnf
```
===========================================================
- bind-address = 127.0.0.1 를 찾아 i키로 insert 모드로 바꾼 후 앞에 #를 붙여 주석처리합니다.
#bind-address = 127.0.0.1
- 위와같이 앞에 **#를 붙여 주석**처리
- :wq 저장하고 나갑니다.
``` shell
sudo service mysql restart
```
-  여기까지 완료되었다면 데스크톱 MySQL Workbench를 다운받아 접속을 확인합니다.
- 다운로드 주소 : http://dev.mysql.com/downloads/workbench/
![](/file/old/129.png)
- 위와 같이 작동한다면 성공한겁니다.!