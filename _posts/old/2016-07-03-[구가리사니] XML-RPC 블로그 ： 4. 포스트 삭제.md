---
layout: post
tags: [가리사니, 기타]
---

> 이 문서는 예전 가리사니 사이트에서 작성된 문서 입니다.
현재 상황과 맞지 않을 수 있습니다.


# XML-RPC 블로그 시리즈
- [1. XML-RPC 소개](/lab?topicId=259)
- [2. 포스트 등록](/lab?topicId=260)
- [3. 포스트 수정](/lab?topicId=261)
- [4. 포스트 삭제](/lab?topicId=262)
- [5. JAVA로 구현해보자](/lab?topicId=263)


# 블로그 포스트 삭제
- 자바를 통한 예제는 5번 강의에 올립니다.
- 네이버 같은경우는 https://api.blog.naver.com/xmlrpc 에 post 로 전송하시면 됩니다.
- 워드프레스 쪽이 설명이 잘되어있습니다.
- 다막 삭제는 metaWeblog.deletePost 가 안됩니다. (아래 소스 설명)
- 워드프레스 : [https://codex.wordpress.org/XML-RPC_MetaWeblog_API
- 공식사이트 : [http://xmlrpc.scripting.com/metaWeblogApi.html
``` xml
<?xml version='1.0'?>
<methodCall>
	<!-- 네이버는 삭제에 한하여 metaWeblog.deletePost 가 아니고 blogger.deletePost 입니다. -->
	<!-- 이거 때문에.. 1시간 삽질... metaWeblog.deletePost 쓰면 오류난 이유도 안알려줌.. -->
	<methodName>blogger.deletePost</methodName>
	<params>

		<!-- 본래 용도는 API KEY 이지만 워드프레스나 MSDN에서도 이제는 사용되지 않는 무시되는 값이라고 설명되어있습니다. -->
		<param>
			<value><string></string></value>
		</param>

		<param>
			<!-- 블로그 포스트 번호 -->
			<value><string>포스트번호</string></value>
		</param>

		<param>
			<!-- 유저 ID -->
			<!-- 네이버 : 네이버 ID -->
			<!-- 티스토리 :  티스토리 ID -->
			<value><string>ID (유저)</string></value>
		</param>

		<param>
			<!-- 본래용도는 Password이지만 [워드프레스, MSDN에서도] API 키로 씁니다. -->
			<value><string>API 코드</string></value>
		</param>

		<!-- 본래 용도는 보여짐/출판 이지만... 당연히 무시되는 값입니다. -->
		<!-- 사실 이부분은.. 처음부터 왜 만들었는지 이해가 안됩니다.... -->
		<!-- 필자의 생각으로는 초기에 수정시 비공개를 삭제로 구현한게 아닐까 생각됩니다. -->
		<param>
			<value><boolean>1</boolean></value>
		</param>
	</params>
</methodCall>
```


# 성공시 응답
- 성공시 boolean [1], 즉 true 하나만 리턴됩니다.
``` xml
<?xml version="1.0" encoding="utf-8" ?>
<methodResponse>
	<params>
		<param>
			<value>
				<boolean>1</boolean>
			</value>
		</param>
	</params>
</methodResponse>
```


# 실패시 응답
``` xml
<?xml version="1.0"?>
<methodResponse>
	<fault>
		<value>
			<struct>
				<member>
					<name>faultString</name>
					<value>실패사유</value>
				</member>
				<member>
					<name>faultCode</name>
					<value>
						<int>실패코드</int>
					</value>
				</member>
			</struct>
		</value>
	</fault>
</methodResponse>
```